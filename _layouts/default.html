<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ page.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
</head>
<body>
  <div class="layout-wrapper">
    <aside class="sidebar">
      <img class="avatar" src="/assets/images/avatar.jpg" alt="Rahul Bhattacharya">
      <p><strong>Rahul Bhattacharya</strong></p>
      <p style="color: #737373;">AI & Data Science â€” MLOps, analytics, and storytelling.</p>
      <ul>
        <li><a href="https://github.com/RahulBhattacharya1">GitHub</a></li>
        <li><a href="https://www.linkedin.com/in/USERNAME/">LinkedIn</a></li>
        <li><a href="mailto:YOUREMAIL@example.com">Email</a></li>
        <li><a href="https://twitter.com/USERNAME">Twitter</a></li>
      </ul>
    </aside>

    <main class="main-content">
      <div class="main-inner">

        {% if page.collection == "posts" %}
          <header class="post-header">
            <h1 class="post-title">{{ page.title }}</h1>
            <p class="post-meta">{{ page.date | date: "%B %d, %Y" }}</p>
            <div class="post-actions">
              <button id="share-btn" type="button" aria-label="Share this post">Share</button>
            </div>
          </header>

          {% capture body %}{{ content }}{% endcapture %}
          {% assign parts = body | split: '</p>' %}

          {% if parts.size > 1 %}
            {{ parts[0] }}</p>
            {% if page.thumbnail %}
              <figure class="post-hero">
                <img src="{{ page.thumbnail | relative_url }}" alt="{{ page.title }}">
                <figcaption class="post-hero__caption">{{ page.title }}</figcaption>
              </figure>
            {% endif %}
            {% for p in parts offset:1 %}
              {% unless p == '' %}
                {{ p }}</p>
              {% endunless %}
            {% endfor %}
          {% else %}
            {% if page.thumbnail %}
              <figure class="post-hero">
                <img src="{{ page.thumbnail | relative_url }}" alt="{{ page.title }}">
                <figcaption class="post-hero__caption">{{ page.title }}</figcaption>
              </figure>
            {% endif %}
            {{ content }}
          {% endif %}

        {% else %}
          {{ content }}
        {% endif %}

      </div>
    </main>
  </div>

  <script>
    (function () {
      var btn = document.getElementById('share-btn');
      if (!btn) return;
      var url = "{{ page.url | absolute_url }}";
      var title = "{{ page.title | escape }}";

      btn.addEventListener('click', function () {
        if (navigator.share) {
          navigator.share({ title: title, url: url }).catch(function(){});
        } else if (navigator.clipboard && window.isSecureContext) {
          navigator.clipboard.writeText(url).then(function(){ btn.textContent = 'Link copied'; setTimeout(function(){ btn.textContent='Share'; }, 1200); });
        } else {
          var ta = document.createElement('textarea');
          ta.value = url; document.body.appendChild(ta); ta.select();
          try { document.execCommand('copy'); btn.textContent='Link copied'; setTimeout(function(){ btn.textContent='Share'; }, 1200); } catch(e){}
          document.body.removeChild(ta);
        }
      });
    })();
  </script>
</body>
</html>
