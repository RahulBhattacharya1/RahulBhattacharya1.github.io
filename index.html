---
layout: default
title: "Rahul's Portfolio"
---

<section class="featured">
  <h2>Featured</h2>
  <ul>
    {%- for post in site.posts -%}
      {%- if post.featured == true -%}
        <li class="post-item">
          <a class="thumb" href="{{ post.url | relative_url }}" aria-label="{{ post.title }}">
            <img src="{{ (post.thumbnail | default: post.image | default: '/assets/images/default.webp') | relative_url }}" alt="{{ post.title }}" loading="lazy">
          </a>
          <div class="post-text">
            <a href="{{ post.url | relative_url }}"><strong>{{ post.title }}</strong></a>
            <p style="color: #737373">
              {% if post.custom_snippet and post.custom_snippet_text %}
                {{ post.custom_snippet_text }}
              {% else %}
                {{ post.excerpt | strip_html | truncate: 200 }}
              {% endif %}
            </p>
          </div>
        </li>
      {%- endif -%}
    {%- endfor -%}
  </ul>
</section>

<section class="posts">
  <div class="posts-header">
    <h2>Blog Posts</h2>

    {% if paginator %}
    <!-- Header pager using the About-style buttons -->
    <nav class="pagination" aria-label="Pagination">
      <div class="tab-buttons pager-buttons">
        <a class="tab-btn prev{% unless paginator.previous_page %} is-disabled{% endunless %}"
           href="{{ paginator.previous_page_path | relative_url }}">← Newer</a>

        <span class="tab-btn page-status">{{ paginator.page }}/{{ paginator.total_pages }}</span>

        <a class="tab-btn next{% unless paginator.next_page %} is-disabled{% endunless %}"
           href="{{ paginator.next_page_path | relative_url }}">Older →</a>
      </div>
    </nav>
    {% endif %}
  </div>

  <ul id="post-strip" class="post-strip">
    {% if paginator %}
      {% for post in paginator.posts %}
        <li class="post-item">
          <a class="thumb" href="{{ post.url | relative_url }}" aria-label="{{ post.title }}">
            <img src="{{ (post.thumbnail | default: post.image | default: '/assets/images/default.webp') | relative_url }}" alt="{{ post.title }}" loading="lazy">
          </a>
          <div class="post-text">
            <a href="{{ post.url | relative_url }}"><strong>{{ post.title }}</strong></a>
            <p style="color: #737373">
              {% if post.custom_snippet and post.custom_snippet_text %}
                {{ post.custom_snippet_text }}
              {% else %}
                {{ post.excerpt | strip_html | truncate: 200 }}
              {% endif %}
            </p>
          </div>
        </li>
      {% endfor %}
    {% endif %}
  </ul>
</section>

{% if paginator %}
<!-- Footer pager also using About-style buttons -->
<nav class="pagination" role="navigation" aria-label="Pagination">
  <div class="tab-buttons pager-buttons">
    <a class="tab-btn prev{% unless paginator.previous_page %} is-disabled{% endunless %}"
       href="{{ paginator.previous_page_path | relative_url }}">← Newer</a>

    <span class="tab-btn page-status">Page {{ paginator.page }} / {{ paginator.total_pages }}</span>

    <a class="tab-btn next{% unless paginator.next_page %} is-disabled{% endunless %}"
       href="{{ paginator.next_page_path | relative_url }}">Older →</a>
  </div>
</nav>
{% endif %}

<style>
/* Align the header row neatly with About-style buttons */
.posts-header{
  display:flex;align-items:flex-end;justify-content:space-between;
  gap:.75rem;border-bottom:2px solid #ddd;margin-bottom:1.2rem
}
.posts-header h2{margin:0 0 .4rem 0;font-size:1.4rem;font-weight:700;line-height:1.2}
.pagination{display:flex;justify-content:flex-end}
.pager-buttons{display:flex;align-items:center;gap:.6rem}
.pager-buttons .tab-btn.is-disabled{opacity:.55}

/* If your theme’s .tab-btn needs inline-block for the status, keep this */
.tab-btn.page-status{pointer-events:none}

/* Card strip — static grid width with fade transitions */
.post-strip{
  display:flex;gap:.75rem;overflow:hidden;margin:0;list-style:none;
  padding:0 .25rem .75rem;transition:opacity .24s ease, transform .24s ease;opacity:1;
}
.post-strip.fade-out{opacity:0;transform:translateY(4px)}
.post-strip.fade-in{opacity:1;transform:translateY(0)}
.post-strip > .post-item{flex:0 0 var(--card-w,300px)}
/* Stacked card so snippet fills under image */
.post-strip .post-item{display:flex;flex-direction:column;align-items:stretch;max-width:var(--card-w,300px)}
.post-strip .post-item .thumb{display:block;flex:0 0 auto;margin-bottom:.6rem}
.post-strip .post-item .post-text{flex:1 1 auto;display:flex;flex-direction:column}
.post-strip .post-item .post-text a{margin-bottom:.4rem}
.post-strip .post-item .post-text p{flex:1 1 auto;margin:0;font-size:.9rem;line-height:1.4;color:#555}
@media (max-width:640px){ .post-strip > .post-item{flex-basis:240px} }
</style>

<script>
/* Fade pager (no horizontal scroll) — uses About-style .tab-btn buttons */
(function(){
  if (window.__fadeTabsPager) return; window.__fadeTabsPager = true;

  var section = document.querySelector('section.posts');
  if (!section) return;

  var strip  = section.querySelector('#post-strip');
  var pagers = Array.from(document.querySelectorAll('nav.pagination .pager-buttons'));
  if (!strip || pagers.length === 0) return;

  function parseHTML(html){ var t=document.createElement('template'); t.innerHTML=html; return t.content; }
  function fetchPage(url){ return fetch(url,{credentials:'same-origin'}).then(function(r){ return r.text(); }); }

  function syncPagersFrom(doc){
    var srcNav = doc.querySelector('nav.pagination .pager-buttons');
    if (!srcNav) return;
    pagers.forEach(function(p){ p.innerHTML = srcNav.innerHTML; });
  }

  var busy = false;
  function fadeSwap(newLis, newDoc){
    strip.classList.add('fade-out');
    setTimeout(function(){
      strip.innerHTML = '';
      newLis.forEach(function(li){ strip.appendChild(li); });
      syncPagersFrom(newDoc);
      strip.classList.remove('fade-out');
      void strip.offsetWidth;               // reflow
      strip.classList.add('fade-in');
      setTimeout(function(){ strip.classList.remove('fade-in'); }, 260);
      busy = false;
    }, 260);
  }

  function handle(dir){
    if (busy) return;

    var link = document.querySelector(dir===1
      ? 'nav.pagination .tab-btn.next:not(.is-disabled)'
      : 'nav.pagination .tab-btn.prev:not(.is-disabled)');
    if (!link || !link.getAttribute('href')) return;

    busy = true;
    pagers.forEach(function(p){ p.querySelectorAll('.tab-btn').forEach(function(a){ a.classList.add('is-disabled'); }); });

    fetchPage(link.getAttribute('href')).then(function(html){
      var doc = parseHTML(html);
      var cards = doc.querySelectorAll('section.posts ul li.post-item');
      if (!cards.length){ busy = false; return; }
      fadeSwap(Array.from(cards), doc);
    }).catch(function(){ busy=false; });
  }

  // Delegate clicks for any .tab-btn in pagers
  document.addEventListener('click', function(e){
    var a = e.target.closest('nav.pagination .tab-btn');
    if (!a) return;
    e.preventDefault();

    if (a.classList.contains('is-disabled')){
      // helper behavior (optional): disabled prev → no-op; disabled next → no-op
      return;
    }
    if (a.classList.contains('next')) handle(1);
    else if (a.classList.contains('prev')) handle(-1);
  }, true);
})();
</script>
